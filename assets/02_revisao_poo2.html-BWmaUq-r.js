import{_ as a}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o as s,c as n,a as e}from"./app-Dyo05sMr.js";const o={},t=e(`<h1 id="revisao-poo-parte-2" tabindex="-1"><a class="header-anchor" href="#revisao-poo-parte-2"><span>Revisão POO parte 2</span></a></h1><h2 id="heranca" tabindex="-1"><a class="header-anchor" href="#heranca"><span>Herança</span></a></h2><p><sup class="footnote-ref"><a href="#footnote1">[1]</a><a class="footnote-anchor" id="footnote-ref1"></a></sup></p><ul><li><p>É a capacidade de uma classe definir o seu comportamento e sua estrutura aproveitando definições de outra classe, normalmente conhecida como classe base ou classe pai</p><ul><li>As subclasses herdam tudo o que a classe pai possui e acrescenta as suas características particulares</li><li>Através do mecanismo de herança é possível definirmos classes genéricas que agreguem um conjunto de definições comuns a um grande número de objetos(Generalização)</li><li>A partir destas especializações genéricas podemos construir novas classes, mais específicas, que acrescentem novas características e comportamentos aos já existentes (Especialização)</li></ul></li><li><p>Capacidade que uma classe tem de herdar as características e comportamentos de outra classe</p></li><li><p>Classe pai é chamada de superclasse e a filha de subclasse</p></li><li><p>Em Java só é permitido herdar de uma única classe, ou seja, não permite herança múltipla</p></li><li><p>O objetivo da herança é especializar o entendimento de uma classe criando novas características e comportamentos que vão além da superclasse</p></li><li><p>Ao mesmo tempo que a especialização amplia o entendimento de uma classe, a generalização vai no sentido inverso e define um modelo menos especializado e mais genérico</p></li></ul><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Mamifero</span><span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> altura<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">double</span> peso<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">mamar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Mamifero mamando&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Morcego</span> <span class="token keyword">extends</span> <span class="token class-name">Mamifero</span><span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">double</span> tamanhoPresa<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">voar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Morcego voando&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Classe Morcego <ul><li>Quais as características de morcego? <ul><li>altura</li><li>peso</li><li>tamanhoPresa</li></ul></li><li>Quais ações o morcego pode fazer? <ul><li>mamar</li><li>voar</li></ul></li></ul></li><li>Se usarmos os princípios de lógica podemos dizer que todo morcego é mamífero porém NÃO podemos afirmar que todo mamífero é morcego</li></ul><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token class-name">Mamifero</span> animalMamifero <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Morcego</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Morcego</span> batman <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Mamifero</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//erro</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Com base no que foi dito até aqui podemos deduzir que o item 2 deve causar um erro já que não é possível garantir que todo mamífero seja um morcego</li><li>Já o item 1 pode parecer estranho, pois a variável é do tipo Mamífero e o objeto para o qual a variável se refere é do tipo Morcego <ul><li>Devemos saber que toda variável pode receber um objeto que seja compatível com o seu tipo e neste caso todo Morcego CERTAMENTE <strong>é um</strong> Mamífero</li></ul></li></ul><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token class-name">Mamifero</span> animalMamifero <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Morcego</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
animalMamifero<span class="token punctuation">.</span><span class="token function">mamar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
animalMamifero<span class="token punctuation">.</span><span class="token function">voar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//erro</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Todo <code>Morcego</code> <strong>é um</strong> <code>Mamifero</code>, porem não pode realizar todas as ações de um <code>morcego</code></li><li>A variável <code>animalMamifero</code> que recebe o objeto é do tipo <code>Mamifero</code></li><li>Para o <code>Morcego</code> <code>voar</code> é necessário criar uma nova variável do tipo <code>Morcego</code> e atribuir o objeto que estava na variável <code>animalMamifero</code></li></ul><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token class-name">Mamifero</span> animalMamifero <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Morcego</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
animalMamifero<span class="token punctuation">.</span><span class="token function">mamar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>animalMamifero <span class="token keyword">instanceof</span> <span class="token class-name">Morcego</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">Morcego</span> batman <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Morcego</span><span class="token punctuation">)</span> animalMamifero<span class="token punctuation">;</span>
    batman<span class="token punctuation">.</span><span class="token function">voar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Este tipo de operação recebe o nome de <strong>TYPE CAST</strong></li></ul><figure><img src="https://www.plantuml.com/plantuml/svg/JOux3i8m343tdC8Z2EK63Ba04bSmZMaZ9J6odIxGkrErfCABF_9xTb13iLQo2qVbXeogSCEIdYJyTh26JzK0ipN1lO_S7fdWHShRu39pYb2me9pERZaiB0EDNVA3RDsg4z-55F_WcJlRRyFrutrtk40rRg_k-Gi0" alt="uml diagram" loading="lazy"><figcaption> UML Herança Morcego e Mamifero.</figcaption></figure><figure><img src="https://www.plantuml.com/plantuml/svg/LP0zRiCm34Ptde9mb_GAxMAWSu0U80jjVtKLK9H1IMc18dUlOpK_dVX0uV41wdCHBpKgzLVYDmzYK-8QEGr7bCJ2o_eMd2VXN8TH9MSGgGnGxWnVl4y-Oawxvux8CHQnMS7TtxhZfqKKimFsgi7mqh3WkpJykHuh4iK-qxiZoy5EINoz-QZV7MR-rv8OFk2Nc6WOCMX5YssqUHUwfKHBzJMo8AU3nJNSMdVxvj2PpapKmwRjhzhy1G00" alt="uml diagram" loading="lazy"><figcaption>Criando um objeto a partir da subclasse.</figcaption></figure><h3 id="outros-exemplos" tabindex="-1"><a class="header-anchor" href="#outros-exemplos"><span>Outros exemplos</span></a></h3><h4 id="caelum" tabindex="-1"><a class="header-anchor" href="#caelum"><span>Caelum</span></a></h4><p><sup class="footnote-ref"><a href="#footnote2">[2]</a><a class="footnote-anchor" id="footnote-ref2"></a></sup></p><p>Como toda empresa, nosso Banco possui funcionários. Vamos modelar a classe <code>Funcionario</code>:</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Funcionario</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> nome<span class="token punctuation">;</span>
    <span class="token class-name">String</span> cpf<span class="token punctuation">;</span>
    <span class="token keyword">double</span> salario<span class="token punctuation">;</span>
    <span class="token comment">// métodos devem vir aqui</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Além de um funcionário comum, há também outros cargos, como os gerentes. Os gerentes guardam a mesma informação que um funcionário comum, mas possuem outras informações, além de ter funcionalidades um pouco diferentes. Um gerente no nosso banco possui também uma senha numérica que permite o acesso ao sistema interno do banco, além do número de funcionários que ele gerencia:</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Gerente</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> nome<span class="token punctuation">;</span>
    <span class="token class-name">String</span> cpf<span class="token punctuation">;</span>
    <span class="token keyword">double</span> salario<span class="token punctuation">;</span>
    <span class="token keyword">int</span> senha<span class="token punctuation">;</span>
    <span class="token keyword">int</span> numeroDeFuncionariosGerenciados<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">autentica</span><span class="token punctuation">(</span><span class="token keyword">int</span> senha<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>senha <span class="token operator">==</span> senha<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Acesso Permitido!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Acesso Negado!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// outros métodos</span>
<span class="token punctuation">}</span>
</code></pre><div class="highlight-lines"><br><div class="highlight-line"> </div><div class="highlight-line"> </div><div class="highlight-line"> </div><br><br><br><br><br><br><br><br><br><br><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container warning"><p class="hint-container-title">Precisamos mesmo de outra classe?</p><p>Poderíamos ter deixado a classe <code>Funcionario</code> mais genérica, mantendo nela senha de acesso, e o número de funcionários gerenciados. Caso o funcionário não fosse um gerente, deixaríamos estes atributos vazios.</p><p>Essa é uma possibilidade, porém podemos começar a ter muito atributos opcionais, e a classe ficaria estranha. E em relação aos métodos? A classe Gerente tem o método autentica, que não faz sentido existir em um funcionário que não é gerente</p></div><p>Se tivéssemos um outro tipo de funcionário que tem características diferentes do funcionário comum, precisaríamos criar uma outra classe e copiar o código novamente!</p><p>Além disso, se um dia precisarmos adicionar uma nova informação para todos os funcionários, precisaremos passar por todas as classes de funcionário e adicionar esse atributo. O problema acontece novamente por não centralizarmos as informações principais do funcionário em um único lugar!</p><p>Existe um jeito, em Java, de relacionarmos uma classe de tal maneira que uma delas <strong>herda</strong> tudo que a outra tem. Isto é uma relação de classe mãe e classe filha. No nosso caso, gostaríamos de fazer com que o <code>Gerente</code> tivesse tudo que um <code>Funcionario</code> tem, gostaríamos que ela fosse uma <strong>extensão</strong> de <code>Funcionario</code>. Fazemos isto através da palavra chave <code>extends</code>.</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Gerente</span> <span class="token keyword">extends</span> <span class="token class-name">Funcionario</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> senha<span class="token punctuation">;</span>
    <span class="token keyword">int</span> numeroDeFuncionariosGerenciados<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">autentica</span><span class="token punctuation">(</span><span class="token keyword">int</span> senha<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>senha <span class="token operator">==</span> senha<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Acesso Permitido!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Acesso Negado!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// setter da senha omitido</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Em todo momento que criarmos um objeto do tipo Gerente, este objeto possuirá também os atributos definidos na classe Funcionario, pois um Gerente <strong>é um</strong> Funcionario:</p><figure><img src="https://www.plantuml.com/plantuml/svg/SoWkIImgAStDuNA0iznAyv8py_CIYpBp5MngT7KLt5EBKlDAKhaSKlDIm4eXD000" alt="uml diagram" loading="lazy"><figcaption>Herança entre Funcionario e Gerente.</figcaption></figure><figure><img src="https://www.plantuml.com/plantuml/svg/PP1DJiGm38NtFeNLsS0LO5C9D5oY6oTzb8nSfygFG4Az-vIMbagiyYdn-_BaDXT9fOvAxKxyae9O7xcE7DqD9RBmjBo5nBrmhiwhv0mY5GVbnl39RqYmWeV7XYZ15x51mStlTSENIHH30knPW-5fmuAlik7tBikm3-dCweWKNt6jvaCqII7cLUQ3z35t9hKivk1b-V9i_rEUUvmqoxHey71QiNLPQStzqD74ueZE_FJUMHRz5pq2p4mppKpKmlfrbTjv1m00" alt="uml diagram" loading="lazy"><figcaption>Criando um objeto a partir da subclasse.</figcaption></figure><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">TestaGerente</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Gerente</span> gerente <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Gerente</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// podemos chamar métodos do Funcionario:</span>
        gerente<span class="token punctuation">.</span><span class="token function">setNome</span><span class="token punctuation">(</span><span class="token string">&quot;João da Silva&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// e também métodos do Gerente!</span>
        gerente<span class="token punctuation">.</span><span class="token function">setSenha</span><span class="token punctuation">(</span><span class="token number">4231</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Dizemos que a classe <code>Gerente</code> <strong>herda</strong> todos os atributos e métodos da classe mãe, no nosso caso, a <code>Funcionario</code>. Para ser mais preciso, ela também herda os atributos e métodos privados, porém não consegue acessá-los diretamente. Para acessar um membro privado na filha indiretamente, seria necessário que a mãe expusesse um outro método visível que invocasse esse atributo ou método privado.</p><div class="hint-container tip"><p class="hint-container-title">Super e Sub classe</p><p>A nomenclatura mais encontrada é que <code>Funcionario</code> é a superclasse de <code>Gerente</code>, e <code>Gerente</code> é a subclasse de <code>Funcionario</code>. Dizemos também que todo <code>Gerente</code> <strong>é um</strong> <code>Funcionario</code>. Outra forma é dizer que <code>Funcionario</code> é classe mãe de <code>Gerente</code> e <code>Gerente</code> é classe filha de <code>Funcionario</code>.</p></div><p>E se precisamos acessar os atributos que herdamos? Não gostaríamos de deixar os atributos de <code>Funcionario</code> <strong>public</strong>, pois dessa maneira qualquer um poderia alterar os atributos dos objetos deste tipo. Existe um outro modificador de acesso, o <strong>protected</strong>, que fica entre o <strong>private</strong> e o <strong>public</strong>. Um atributo <strong>protected</strong> só pode ser acessado (visível) pela própria classe e por suas subclasses (e mais algumas outras classes, mas veremos isso mais adiante).</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Funcionario</span> <span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token class-name">String</span> nome<span class="token punctuation">;</span>
    <span class="token keyword">protected</span> <span class="token class-name">String</span> cpf<span class="token punctuation">;</span>
    <span class="token keyword">protected</span> <span class="token keyword">double</span> salario<span class="token punctuation">;</span>
    <span class="token comment">// métodos devem vir aqui</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">Sempre usar protected?</p><p>Então porque usar private? Depois de um tempo programando orientado a objetos, você vai começar a sentir que nem sempre é uma boa ideia deixar que a classe filha acesse os atributos da classe mãe, pois isso quebra um pouco a ideia de que só aquela classe deveria manipular seus atributos. Essa é uma discussão um pouco mais avançada.</p><p>Além disso, não só as subclasses, mas também as outras classes, podem acessar os atributos protected, que veremos mais a frente (mesmo pacote).</p></div><p>Da mesma maneira, podemos ter uma classe <code>Diretor</code> que estenda <code>Gerente</code> e a classe <code>Presidente</code> pode estender diretamente de <code>Funcionario</code>.</p><p>Fique claro que essa é uma decisão de negócio. Se <code>Diretor</code> vai estender de <code>Gerente</code> ou não, vai depender se, para você, <code>Diretor</code> <strong>é um</strong> <code>Gerente</code>.</p><p>Uma classe pode ter várias filhas, mas pode ter apenas uma mãe, é a chamada herança simples do java.</p><figure><img src="https://www.plantuml.com/plantuml/svg/SoWkIImgAStDuNA0iznAyv8py_CIYpBp5MngT7KLNFFIK_CoKZEByZ7bWbEJYr9BG7nCEVVKejIyabGkA0qHTCa4giyluk9oICrB0LiCeG40" alt="uml diagram" loading="lazy"><figcaption>Herança de Diretor, Engenheiro, Secretario, Gerente com Funcionario</figcaption></figure><h4 id="k19" tabindex="-1"><a class="header-anchor" href="#k19"><span>K19</span></a></h4><p><sup class="footnote-ref"><a href="#footnote3">[3]</a><a class="footnote-anchor" id="footnote-ref3"></a></sup></p><h5 id="reutilizacao-de-codigo" tabindex="-1"><a class="header-anchor" href="#reutilizacao-de-codigo"><span>Reutilização de Código</span></a></h5><p>Um banco oferece diversos serviços que podem ser contratados individualmente pelos clientes. Quando um serviço é contratado, o sistema do banco deve registrar quem foi o cliente que contratou o serviço, quem foi o funcionário responsável pelo atendimento ao cliente e a data de contratação.</p><p>Com o intuito de ser produtivo, a modelagem dos serviços do banco deve diminuir a repetição de código. A ideia é reaproveitar o máximo do código já criado. Essa ideia está diretamente relacionada ao conceito Don’t Repeat Yourself. Em outras palavras, devemos minimizar ao máximo a utilização do &quot;copiar e colar&quot;. O aumento da produtividade e a diminuição do custo de manutenção são as principais motivações do DRY.</p><p>Em seguida, vamos discutir algumas modelagens possíveis para os serviços do banco. Buscaremos seguir a ideia do DRY na criação dessas modelagens.</p><h5 id="uma-classe-para-todos-os-servicos" tabindex="-1"><a class="header-anchor" href="#uma-classe-para-todos-os-servicos"><span>Uma classe para todos os serviços</span></a></h5><p>Poderíamos definir apenas uma classe para modelar todos os tipos de serviços que o banco oferece.</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Servico</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Cliente</span> contratante <span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Funcionario</span> responsavel <span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">LocalDate</span> dataDeContratacao <span class="token punctuation">;</span>
    <span class="token comment">// métodos</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h6 id="emprestimo" tabindex="-1"><a class="header-anchor" href="#emprestimo"><span>Empréstimo</span></a></h6><p>O empréstimo é um dos serviços que o banco oferece. Quando um cliente contrata esse serviço, são definidos o valor e a taxa de juros mensal do empréstimo. Devemos acrescentar dois atributos na classe <code>Servico</code>: um para o valor e outro para a taxa de juros do serviço de empréstimo.</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Servico</span> <span class="token punctuation">{</span>
    <span class="token comment">// GERAL</span>
    <span class="token keyword">private</span> <span class="token class-name">Cliente</span> contratante<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Funcionario</span> responsavel<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">LocalDate</span> dataDeContratacao<span class="token punctuation">;</span>
    <span class="token comment">// EMPRÉSTIMO</span>
    <span class="token keyword">private</span> <span class="token keyword">double</span> valor<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">double</span> taxa<span class="token punctuation">;</span>
    <span class="token comment">// métodos</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h6 id="seguro-de-veiculos" tabindex="-1"><a class="header-anchor" href="#seguro-de-veiculos"><span>Seguro de veículos</span></a></h6><p>Outro serviço oferecido pelo banco é o seguro de veículos. Para esse serviço devem ser definidas as seguintes informações: veículo segurado, valor do seguro e a franquia. Devemos adicionar três atributos na classe <code>Servico</code>.</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Servico</span> <span class="token punctuation">{</span>
    <span class="token comment">// GERAL</span>
    <span class="token keyword">private</span> <span class="token class-name">Cliente</span> contratante <span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Funcionario</span> responsavel <span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">LocalDate</span> dataDeContratacao <span class="token punctuation">;</span>
    <span class="token comment">// EMPRÉSTIMO</span>
    <span class="token keyword">private</span> <span class="token keyword">double</span> valor <span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">double</span> taxa <span class="token punctuation">;</span>
    <span class="token comment">// SEGURO DE VEICULO</span>
    <span class="token keyword">private</span> <span class="token class-name">Veiculo</span> veiculo <span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">double</span> valorDoSeguroDeVeiculo <span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">double</span> franquia <span class="token punctuation">;</span>
    <span class="token comment">// métodos</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Apesar de seguir a ideia do DRY, modelar todos os serviços com apenas uma classe pode dificultar o desenvolvimento. Supondo que dois ou mais desenvolvedores são responsáveis pela implementação dos serviços, eles provavelmente modificariam a mesma classe concorrentemente. Além disso, os desenvolvedores, principalmente os recém chegados no projeto do banco, ficariam confusos com o código extenso da classe <code>Servico</code>.</p><p>Outro problema é que um objeto da classe <code>Servico</code> possui atributos para todos os serviços que o banco oferece. Na verdade, ele deveria possuir apenas os atributos relacionados a um serviço. Do ponto de vista de performance, essa abordagem causaria um consumo desnecessário de memória.</p><h5 id="uma-classe-para-cada-servico" tabindex="-1"><a class="header-anchor" href="#uma-classe-para-cada-servico"><span>Uma classe para cada serviço</span></a></h5><p>Para modelar melhor os serviços, evitando uma quantidade grande de atributos e métodos desnecessários, criaremos uma classe para cada serviço.</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">SeguroDeVeiculo</span> <span class="token punctuation">{</span>
    <span class="token comment">// GERAL</span>
    <span class="token keyword">private</span> <span class="token class-name">Cliente</span> contratante <span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Funcionario</span> responsavel <span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">LocalDate</span> dataDeContratacao <span class="token punctuation">;</span>
    <span class="token comment">// SEGURO DE VEICULO</span>
    <span class="token keyword">private</span> <span class="token class-name">Veiculo</span> veiculo <span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">double</span> valorDoSeguroDeVeiculo <span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">double</span> franquia <span class="token punctuation">;</span>
    <span class="token comment">// métodos</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Emprestimo</span> <span class="token punctuation">{</span>
    <span class="token comment">// GERAL</span>
    <span class="token keyword">private</span> <span class="token class-name">Cliente</span> contratante <span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Funcionario</span> responsavel <span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">LocalDate</span> dataDeContratacao <span class="token punctuation">;</span>
    <span class="token comment">// EMPRÉSTIMO</span>
    <span class="token keyword">private</span> <span class="token keyword">double</span> valor <span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">double</span> taxa <span class="token punctuation">;</span>
    <span class="token comment">// métodos</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Criar uma classe para cada serviço torna o sistema mais flexível, pois qualquer alteração em um determinado serviço não causará efeitos colaterais nos outros. Mas, por outro lado, essas classes teriam bastante código repetido, contrariando a ideia do DRY. Além disso, qualquer alteração que deva ser realizada em todos os serviços precisa ser implementada em cada uma das classes.</p><h5 id="uma-classe-generica-e-varias-especificas" tabindex="-1"><a class="header-anchor" href="#uma-classe-generica-e-varias-especificas"><span>Uma classe genérica e várias específicas</span></a></h5><p>Na modelagem dos serviços do banco, podemos aplicar um conceito de orientação a objetos chamado Herança. A ideia é reutilizar o código de uma determinada classe em outras classes.</p><p>Aplicando herança, teríamos a classe <code>Servico</code> com os atributos e métodos que todos os serviços devem ter e uma classe para cada serviço com os atributos e métodos específicos do determinado serviço.</p><p>As classes específicas seriam &quot;ligadas&quot; de alguma forma à classe <code>Servico</code> para reaproveitar o código nela definido. Esse relacionamento entre as classes é representado em UML pelo diagrama abaixo</p><figure><img src="https://www.plantuml.com/plantuml/svg/SoWkIImgAStDuNA0iu9JYyeoa_CLR6fqTHM2KzDBY_9TKiDICvDBS_9H9Lrp2ufIYqioS_Ev75BpKi36G6W0" alt="uml diagram" loading="lazy"><figcaption>Árvore de herança dos serviços</figcaption></figure><p>Os objetos das classes específicas <code>Emprestimo</code> e <code>SeguroDeVeiculo</code> possuiriam tanto os atributos e métodos definidos nessas classes quanto os definidos na classe <code>Servico</code>.</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token class-name">Emprestimo</span> e <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Emprestimo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>
<span class="token comment">// Chamando um método da classe Servico</span>
e<span class="token punctuation">.</span><span class="token function">setDataDeContratacao</span><span class="token punctuation">(</span><span class="token class-name">LocalDate</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">,</span> <span class="token class-name">Month</span><span class="token punctuation">.</span><span class="token constant">JANUARY</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>
<span class="token comment">// Chamando um método da classe Emprestimo</span>
e<span class="token punctuation">.</span><span class="token function">setValor</span><span class="token punctuation">(</span><span class="token number">10000</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>As classes específicas são vinculadas a classe genérica utilizando o comando extends. Não é necessário redefinir o conteúdo já declarado na classe genérica.</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Servico</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Cliente</span> contratante<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Funcionario</span> responsavel<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">LocalDate</span> dataDeContratacao<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Emprestimo</span> <span class="token keyword">extends</span> <span class="token class-name">Servico</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">double</span> valor<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">double</span> taxa<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="highlight-lines"><div class="highlight-line"> </div><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">SeguroDeVeiculo</span> <span class="token keyword">extends</span> <span class="token class-name">Servico</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Veiculo</span> veiculo<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">double</span> valorDoSeguroDeVeiculo<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">double</span> franquia<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="highlight-lines"><div class="highlight-line"> </div><br><br><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>A classe genérica é denominada super classe, classe base ou classe mãe. As classes específicas são denominadas sub classes, classes derivadas ou classes filhas.</p><p>Quando o operador <code>new</code> é aplicado em uma sub classe, o objeto construído possuirá os atributos e métodos definidos na sub classe e na super classe.</p><figure><img src="https://www.plantuml.com/plantuml/svg/LP0nRiCm34Ltde9mb_OAxM8WxGcwUg7bZq05JHaKxGOeSlSwTfCqanxq-Py4jZN4OnwLsYlnmRFOK7WUkVHVYCB2qvfbvq6updrIgHL4AZsK6yCtVuoJeqOUo_DBG-H88NPKS7DF6dwQH75qmDuq6rvt39nYnv-hSX4jtbd8IHvQzz7_Jtp2bvmkVj6SqEkCtR_HrhdGpPwAXSlQ3dIsVcugLcM1TZQij-yu_EL97fqt4pFJcSvCrCA6RNlx-Gi0" alt="uml diagram" loading="lazy"><figcaption>Criando um objeto a partir da subclasse.</figcaption></figure><h3 id="sobrecrita-de-metodos" tabindex="-1"><a class="header-anchor" href="#sobrecrita-de-metodos"><span>Sobrecrita de Métodos</span></a></h3><h4 id="caelum-1" tabindex="-1"><a class="header-anchor" href="#caelum-1"><span>Caelum</span></a></h4><p><sup class="footnote-ref"><a href="#footnote2">[2:1]</a><a class="footnote-anchor" id="footnote-ref2:1"></a></sup></p><p>Todo fim de ano, os funcionários do nosso banco recebem uma bonificação. Os funcionários comuns recebem 10% do valor do salário e os gerentes, 15%.</p><p>Vamos ver como fica a classe Funcionario:</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Funcionario</span> <span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token class-name">String</span> nome<span class="token punctuation">;</span>
    <span class="token keyword">protected</span> <span class="token class-name">String</span> cpf<span class="token punctuation">;</span>
    <span class="token keyword">protected</span> <span class="token keyword">double</span> salario<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">getBonificacao</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>salario <span class="token operator">*</span> <span class="token number">0.10</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// métodos</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Se deixarmos a classe <code>Gerente</code> como ela está, ela vai herdar o método <code>getBonificacao</code>.</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token class-name">Gerente</span> gerente <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Gerente</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
gerente<span class="token punctuation">.</span><span class="token function">setSalario</span><span class="token punctuation">(</span><span class="token number">5000.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>gerente<span class="token punctuation">.</span><span class="token function">getBonificacao</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>O resultado aqui será <code>500</code>. Não queremos essa resposta, pois o gerente deveria ter <code>750</code> de bônus nesse caso. Para consertar isso, uma das opções seria criar um novo método na classe Gerente, chamado, por exemplo, <code>getBonificacaoDoGerente</code>. O problema é que teríamos dois métodos em Gerente, confundindo bastante quem for usar essa classe, além de que cada um da uma resposta diferente.</p><p>No Java, quando herdamos um método, podemos alterar seu comportamento. Podemos reescrever (reescrever, sobrescrever, override) este método:</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Gerente</span> <span class="token keyword">extends</span> <span class="token class-name">Funcionario</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> senha<span class="token punctuation">;</span>
    <span class="token keyword">int</span> numeroDeFuncionariosGerenciados<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">getBonificacao</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>salario <span class="token operator">*</span> <span class="token number">0.15</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Agora o método está correto para o <code>Gerente</code>. Refaça o teste e veja que o valor impresso é o correto <code>750</code>:</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token class-name">Gerente</span> gerente <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Gerente</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
gerente<span class="token punctuation">.</span><span class="token function">setSalario</span><span class="token punctuation">(</span><span class="token number">5000.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>gerente<span class="token punctuation">.</span><span class="token function">getBonificacao</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">A anotação @Override</p><p>Há como deixar explícito no seu código que determinador método é a reescrita de um método da sua classe mãe. Fazemos isso colocando <code>@Override</code> em cima do método. Isso é chamado <strong>anotação</strong>. Existem diversas anotações e cada uma vai ter um efeito diferente sobre seu código.</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">getBonificacao</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>salario <span class="token operator">*</span> <span class="token number">0.15</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Perceba que, por questões de compatibilidade, isso não é obrigatório. Mas caso um método esteja anotado com <code>@Override</code>, ele necessariamente precisa estar reescrevendo um método da classe mãe.</p></div><h5 id="invocando-o-metodo-reescrito" tabindex="-1"><a class="header-anchor" href="#invocando-o-metodo-reescrito"><span>Invocando o método reescrito</span></a></h5><p>Depois de reescrito, não podemos mais chamar o método antigo que fora herdado da classe mãe: realmente alteramos o seu comportamento. Mas podemos invocá-lo no caso de estarmos dentro da classe.</p><p>Imagine que para calcular a bonificação de um Gerente devemos fazer igual ao cálculo de um <code>Funcionario</code> porem adicionando R$ 1000. Poderíamos fazer assim:</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Gerente</span> <span class="token keyword">extends</span> <span class="token class-name">Funcionario</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> senha<span class="token punctuation">;</span>
    <span class="token keyword">int</span> numeroDeFuncionariosGerenciados<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">getBonificacao</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>salario <span class="token operator">*</span> <span class="token number">0.10</span> <span class="token operator">+</span> <span class="token number">1000</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Aqui teríamos um problema: o dia que o <code>getBonificacao</code> do <code>Funcionario</code> mudar, precisaremos mudar o método do <code>Gerente</code> para acompanhar a nova bonificação. Para evitar isso, o <code>getBonificacao</code> do <code>Gerente</code> pode chamar o do <code>Funcionario</code> utilizando a palavra chave <strong>super</strong>.</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Gerente</span> <span class="token keyword">extends</span> <span class="token class-name">Funcionario</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> senha<span class="token punctuation">;</span>
    <span class="token keyword">int</span> numeroDeFuncionariosGerenciados<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">getBonificacao</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">getBonificacao</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1000</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Essa invocação vai procurar o método com o nome <code>getBonificacao</code> de uma super classe de <code>Gerente</code>. No caso ele logo vai encontrar esse método em <code>Funcionario</code>.</p><p>Essa é uma prática comum, pois muitos casos o método reescrito geralmente faz &quot;algo a mais&quot; que o método da classe mãe. Chamar ou não o método de cima é uma decisão sua e depende do seu problema. Algumas vezes não faz sentido invocar o método que reescrevemos.</p><h4 id="k19-1" tabindex="-1"><a class="header-anchor" href="#k19-1"><span>K19</span></a></h4><p><sup class="footnote-ref"><a href="#footnote3">[3:1]</a><a class="footnote-anchor" id="footnote-ref3:1"></a></sup></p><p>Suponha que o valor da taxa administrativa do serviço de empréstimo é diferente dos outros serviços, pois ele é calculado a partir do valor emprestado ao cliente. Como esta lógica é específica para o serviço de empréstimo, devemos acrescentar um método para implementar esse cálculo na classe <code>Emprestimo</code>.</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Emprestimo</span> <span class="token keyword">extends</span> <span class="token class-name">Servico</span> <span class="token punctuation">{</span>
    <span class="token comment">// ATRIBUTOS</span>
    <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">calculaTaxaDeEmprestimo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>valor <span class="token operator">*</span> <span class="token number">0.1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Para os objetos da classe <code>Emprestimo</code>, devemos chamar o método <code>calculaTaxaDeEmprestimo()</code>. Para todos os outros serviços, devemos chamar o método <code>calculaTaxa()</code>.</p><p>Mesmo assim, nada impediria que o método <code>calculaTaxa()</code> fosse chamado em um objeto da classe <code>Emprestimo</code>, pois ela herda esse método da classe <code>Servico</code>. Dessa forma, existe o risco de alguém erroneamente chamar o método incorreto.</p><p>Seria mais seguro &quot;substituir&quot; a implementação do método <code>calculaTaxa()</code> herdado da classe <code>Servico</code> na classe <code>Emprestimo</code>. Para isso, basta escrever o método <code>calculaTaxa()</code> também na classe <code>Emprestimo</code> com a mesma assinatura que ele possui na classe <code>Servico</code>.</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Emprestimo</span> <span class="token keyword">extends</span> <span class="token class-name">Servico</span> <span class="token punctuation">{</span>
    <span class="token comment">// ATRIBUTOS</span>
    <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">calculaTaxa</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>valor <span class="token operator">*</span> <span class="token number">0.1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Os métodos das classes específicas têm prioridade sobre os métodos das classes genéricas. Em outras palavras, se o método chamado existe na classe filha ele será chamado, caso contrário o método será procurado na classe mãe.</p><p>Quando definimos um método com a mesma assinatura na classe base e em alguma classe derivada, estamos aplicando o conceito de Reescrita de Método.</p><h5 id="fixo-especifico" tabindex="-1"><a class="header-anchor" href="#fixo-especifico"><span>Fixo + Específico</span></a></h5><p>Suponha que o preço de um serviço é a soma de um valor fixo mais um valor que depende do tipo do serviço. Por exemplo, o preço do serviço de empréstimo é 5 reais mais uma porcentagem do valor emprestado ao cliente. O preço do serviço de seguro de veículo é 5 reais mais uma porcentagem do valor do veículo segurado. Em cada classe específica, podemos reescrever o método <code>calculaTaxa()</code>.</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Emprestimo</span> <span class="token keyword">extends</span> <span class="token class-name">Servico</span> <span class="token punctuation">{</span>
    <span class="token comment">// ATRIBUTOS</span>
    <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">calculaTaxa</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">5</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>valor <span class="token operator">*</span> <span class="token number">0.1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">SeguraDeVeiculo</span> <span class="token keyword">extends</span> <span class="token class-name">Servico</span> <span class="token punctuation">{</span>
<span class="token comment">// ATRIBUTOS</span>
    <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">calculaTaxa</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">5</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>veiculo<span class="token punctuation">.</span><span class="token function">getTaxa</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span> <span class="token number">0.05</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Se o valor fixo dos serviços for atualizado, todas as classes específicas devem ser modificadas. Outra alternativa seria criar um método na classe <code>Servico</code> para calcular o valor fixo de todos os serviços e chamá-lo dos métodos reescritos nas classes específicas.</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Servico</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">calculaTaxa</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">5</span> <span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Emprestimo</span> <span class="token keyword">extends</span> <span class="token class-name">Servico</span> <span class="token punctuation">{</span>
<span class="token comment">// ATRIBUTOS</span>
    <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">calculaTaxa</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">calculaTaxa</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>valor <span class="token operator">*</span> <span class="token number">0.1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Dessa forma, quando o valor padrão do preço dos serviços é alterado, basta modificar o método na classe <code>Servico</code>.</p><h3 id="construtores-e-heranca" tabindex="-1"><a class="header-anchor" href="#construtores-e-heranca"><span>Construtores e Herança</span></a></h3><p>Quando temos uma hierarquia de classes, as chamadas dos construtores são mais complexas do que o normal. Pelo menos um construtor de cada classe de uma mesma sequência hierárquica deve ser chamado ao instanciar um objeto. Por exemplo, quando um objeto da classe Emprestimo é criado, pelo menos um construtor da própria classe Emprestimo e um da classe Servico devem ser executados. Além disso, os construtores das classes mais genéricas são chamados antes dos construtores das classes específicas.</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Servico</span> <span class="token punctuation">{</span>
    <span class="token comment">// ATRIBUTOS</span>
    <span class="token keyword">public</span> <span class="token class-name">Servico</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Servico&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Emprestimo</span> <span class="token keyword">extends</span> <span class="token class-name">Servico</span> <span class="token punctuation">{</span>
    <span class="token comment">// ATRIBUTOS</span>
    <span class="token keyword">public</span> <span class="token class-name">Emprestimo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Emprestimo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Por padrão, todo construtor chama o construtor sem argumentos da classe mãe se não existir nenhuma chamada de construtor explícita.</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">TesteConstrutor</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">new</span> <span class="token class-name">Emprestimo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><div class="multicolumn"><img src="https://www.plantuml.com/plantuml/svg/SoWkIImgAStDuNA0iHIuWbEBoZAJynLiQdHr5Lnp2ufIYqioS_CLk1nIyrB0QY4q0000" alt="uml diagram" loading="lazy"><img src="https://www.plantuml.com/plantuml/svg/RL112i903Bpd5Q4dFTW7ACY2-8A-ODsckD3Tb3HTzVUkrjAbUCfaCZC9CQDQqIdqO1Q4SFSjOSUiDtw2TSg2bzv79G0dP9Nm6WQXKNrWc2TuE1Sa7Z7IusFrQIC7A6JPr90axnX1g4DE90i3YCrhL0erJreFahVqSLVzfjN-11HRpAvDOD6jcSK1_sDNGPbiClZ-Pgvl" alt="uml diagram" loading="lazy"></div><figcaption>Execução do construtor com Herança</figcaption></figure><h2 id="polimorfismo" tabindex="-1"><a class="header-anchor" href="#polimorfismo"><span>Polimorfismo</span></a></h2><ul><li>É a possibilidade de se solicitar um serviço a um objeto, cuja execução vai depender do tipo de objeto instanciado</li></ul><figure><img src="https://www.plantuml.com/plantuml/svg/SoWkIImgAStDuU9oW3EJSnABYnNSCjDBYnAhkHI082MrE3Kl8x58GvEh5Yhjd5cKN9gJZrC-ABKaCIyTduh0qiIKeiGKR0eWTYlOrEZgmYn24OCRZY8ACv3B8JKl1UGHA0q0" alt="uml diagram" loading="lazy"><figcaption>UML da relação entre Figura, Circulo, Retangulo e Quadrado.</figcaption></figure><ul><li><p><code>Círculo</code>, <code>Retangulo</code> e <code>Quadrado</code> são do tipo <code>Figura</code>.</p><ul><li>Método desenhar()</li></ul></li><li><p>O resultado depende do tipo de figura que receber a mensagem</p></li><li><p>O polimorfismo permite escrever programas que processam objetos que compartilham a mesma superclasse em uma hierarquia de classe como se todas fossem objetos da superclasse.</p></li><li><p>Sistema de simulação de movimento de Animais</p></li></ul><figure><img src="https://www.plantuml.com/plantuml/svg/SoWkIImgAStDuNA0iv9p4ekB5HppCdCJSwgv580W83-l95yXCoypEJCVII0jCnVCoyqlIotIqEIgXMeDICsiIAt6AkMObvQPb9cFNJ80I2GMOKX2NA9WKwEh2p4QHGHg8gegY45S3gbvAM2_GMW0" alt="uml diagram" loading="lazy"><figcaption>UML da relação entre Animal, Peixe, Anfíbio e Pássaro.</figcaption></figure><ul><li>Peixes, Anfíbios, Pássaros <ul><li>Superclasse Animal <ul><li>Método mover</li><li>Localização x,y</li></ul></li><li>Todas as subclasses implementam o método mover</li></ul></li><li>O programa envia a mensagem &quot;mover&quot; para os 3 objetos</li></ul><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token comment">//...</span>
<span class="token class-name">Animal</span> animal<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Animal</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">//...</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3</span> <span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    animal<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">mover</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//como será o movimento desse animal?</span>
<span class="token punctuation">}</span>
<span class="token comment">//...</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Cada animal responde ao método mover de uma maneira diferente <ul><li>O peixe pode nadar 2 metros</li><li>Anfíbio pular 1 metro</li><li>Pássaro voar 3 metros</li></ul></li><li>Cada objeto irá responder a mensagem &quot;mover&quot; de acordo com sua instancia</li><li>Apesar de todos serem Animais o fato do método &quot;mover&quot; ter &quot;muitas formas&quot; é a chave do polimorfismo <ul><li>Polimorfismo vem de Polimorfo, &quot;Que é sujeito a mudar de forma&quot;</li></ul></li></ul><div class="hint-container tip"><p class="hint-container-title">Definição</p><p>Polimorfismo possibilita tratar objetos de tipos mais especializados de forma genérica</p></div><h3 id="caelum-2" tabindex="-1"><a class="header-anchor" href="#caelum-2"><span>Caelum</span></a></h3><p><sup class="footnote-ref"><a href="#footnote2">[2:2]</a><a class="footnote-anchor" id="footnote-ref2:2"></a></sup></p><p>O que guarda uma variável do tipo <code>Funcionario</code>? Uma referência para um <code>Funcionario</code>, nunca o objeto em si.</p><p>Na herança, vimos que todo <code>Gerente</code> <strong>é um</strong> <code>Funcionario</code>, pois é uma extensão deste. Podemos nos referir a um <code>Gerente</code> como sendo um <code>Funcionario</code>. Se alguém precisa falar com um <code>Funcionario</code> do banco, pode falar com um <code>Gerente</code>! Porque? Pois <code>Gerente</code> <strong>é um</strong> <code>Funcionario</code>. Essa é a semântica da herança.</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token class-name">Gerente</span> gerente <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Gerente</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Funcionario</span> funcionario <span class="token operator">=</span> gerente<span class="token punctuation">;</span>
funcionario<span class="token punctuation">.</span><span class="token function">setSalario</span><span class="token punctuation">(</span><span class="token number">5000.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://www.plantuml.com/plantuml/svg/LL2x4W8X3Epv2aej_0Nd2aShAql78WSvP0OIXqVb-EzYxlGm1MINPBDXo0LIgJ6euPjfbT0K81TGdp5oyl1KkeM1PBN3X5Hm9QPAnZD1ygoKqE1QnN9UXJbrJRiMabnAykGqSSGUcySaq78TcuCCGQG_b6-26UaEFqGrOk837bSJMOOP3vRp_y2HEI2GXbgQ6szWynFSIi5jzh-is1htynR2TdjsB-gb1YGh7pZVRm00" alt="uml diagram" loading="lazy"><figcaption>Representação da memória de duas variáveis para a mesmo referência.</figcaption></figure><p>Polimorfismo é a capacidade de um objeto poder ser referenciado de várias formas. (cuidado, polimorfismo não quer dizer que o objeto fica se transformando, muito pelo contrário, um objeto nasce de um tipo e morre daquele tipo, o que pode mudar é a maneira como nos referimos a ele).</p><p>Até aqui tudo bem, mas e se eu tentar:</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code>funcionario<span class="token punctuation">.</span><span class="token function">getBonificacao</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Qual é o retorno desse método? <code>500</code> ou <code>750</code>? No Java, a invocação de método sempre vai ser <strong>decidida em tempo de execução</strong>. O Java vai procurar o objeto na memória e, aí sim, decidir qual método deve ser chamado, sempre relacionando com sua classe de verdade, e não com a que estamos usando para referenciá-lo. Apesar de estarmos nos referenciando a esse <code>Gerente</code> como sendo um <code>Funcionario</code>, o método executado é o do <code>Gerente</code>. O retorno é <code>750</code>.</p><p>Parece estranho criar um gerente e referenciá-lo como apenas um funcionário. Por que faríamos isso? Na verdade, a situação que costuma aparecer é a que temos um método que recebe um argumento do tipo <code>Funcionario</code>:</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">ControleDeBonificacoes</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">double</span> totalDeBonificacoes <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">registra</span><span class="token punctuation">(</span><span class="token class-name">Funcionario</span> funcionario<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>totalDeBonificacoes <span class="token operator">+=</span> funcionario<span class="token punctuation">.</span><span class="token function">getBonificacao</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">getTotalDeBonificacoes</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>totalDeBonificacoes<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>E, em algum lugar da minha aplicação (ou no main, se for apenas para testes):</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token class-name">ControleDeBonificacoes</span> controle <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ControleDeBonificacoes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Gerente</span> funcionario1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Gerente</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

funcionario1<span class="token punctuation">.</span><span class="token function">setSalario</span><span class="token punctuation">(</span><span class="token number">5000.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
controle<span class="token punctuation">.</span><span class="token function">registra</span><span class="token punctuation">(</span>funcionario1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Funcionario</span> funcionario2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Funcionario</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
funcionario2<span class="token punctuation">.</span><span class="token function">setSalario</span><span class="token punctuation">(</span><span class="token number">1000.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
controle<span class="token punctuation">.</span><span class="token function">registra</span><span class="token punctuation">(</span>funcionario2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>controle<span class="token punctuation">.</span><span class="token function">getTotalDeBonificacoes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Perceba que conseguimos passar um <code>Gerente</code> para um método que recebe um <code>Funcionario</code> como argumento. Pense como numa porta na agência bancária com o seguinte aviso: &quot;“Permitida a entrada apenas de Funcionários”&quot;. Um gerente pode passar nessa porta? Sim, pois <code>Gerente</code> <strong>é um</strong> <code>Funcionario</code>.</p><p>Qual será o valor resultante? Não importa que dentro do método registra do <code>ControleDeBonificacoes</code> receba <code>Funcionario</code>. Quando ele receber um objeto que realmente é um <code>Gerente</code>, o seu método reescrito será invocado. Reafirmando: não importa como nos referenciamos a um objeto, o método que será invocado é sempre o que é dele.</p><p>No dia em que criarmos uma classe <code>Secretaria</code>, por exemplo, que é filha de <code>Funcionario</code>, precisaremos mudar a classe de <code>ControleDeBonificacoes</code>? Não. Basta a classe <code>Secretaria</code> reescrever os métodos que lhe parecerem necessários. É exatamente esse o poder do polimorfismo, juntamente com a reescrita de método: diminuir o acoplamento entre as classes, para evitar que novos códigos resultem em modificações em inúmeros lugares.</p><p>Perceba que quem criou <code>ControleDeBonificacoes</code> pode nunca ter imaginado a criação da classe <code>Secretaria</code> ou <code>Engenheiro</code>. Contudo, não será necessário reimplementar esse controle em cada nova classe: reaproveitamos aquele código</p><div class="hint-container warning"><p class="hint-container-title">Herança versus acoplamento</p><p>Note que o uso de herança aumenta o acoplamento entre as classes, isto é, o quanto uma classe depende de outra. A relação entre classe mãe e filha é muito forte e isso acaba fazendo com que o programador das classes filhas tenha que conhecer a implementação da classe pai e vice-versa. Fica difícil fazer uma mudança pontual no sistema.</p><p>Por exemplo, imagine se tivermos que mudar algo na nossa classe Funcionario, mas não quiséssemos que todos os funcionários sofressem a mesma mudança. Precisaríamos passar por cada uma das filhas de Funcionario verificando se ela se comporta como deveria ou se devemos sobrescrever o tal método modificado.</p><p>Esse é um problema da herança, e não do polimorfismo, que resolveremos mais tarde com a ajuda de Interfaces.</p></div><h4 id="um-outro-exemplo" tabindex="-1"><a class="header-anchor" href="#um-outro-exemplo"><span>Um outro exemplo</span></a></h4><p>Imagine que vamos modelar um sistema para a faculdade que controle as despesas com funcionários e professores. Nosso funcionário fica assim:</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">EmpregadoDaFaculdade</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> nome<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">double</span> salario<span class="token punctuation">;</span>
    <span class="token keyword">double</span> <span class="token function">getGastos</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>salario<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">String</span> <span class="token function">getInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;nome: &quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>nome <span class="token operator">+</span> <span class="token string">&quot; com salário &quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>salario<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// métodos de get, set e outros</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>O gasto que temos com o professor não é apenas seu salário. Temos de somar um bônus de 10 reais por hora/aula. O que fazemos então? Reescrevemos o método. Assim como o <code>getGastos</code> é diferente, o <code>getInfo</code> também será, pois temos de mostrar as horas/aula também.</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">ProfessorDaFaculdade</span> <span class="token keyword">extends</span> <span class="token class-name">EmpregadoDaFaculdade</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> horasDeAula<span class="token punctuation">;</span>
    <span class="token keyword">double</span> <span class="token function">getGastos</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getSalario</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>horasDeAula <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">String</span> <span class="token function">getInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> informacaoBasica <span class="token operator">=</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">getInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> informacao <span class="token operator">=</span> informacaoBasica <span class="token operator">+</span> <span class="token string">&quot; horas de aula: &quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>horasDeAula<span class="token punctuation">;</span>
        <span class="token keyword">return</span> informacao<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// métodos de get, set e outros que forem necessários</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>A novidade, aqui, é a palavra chave super. Apesar do método ter sido reescrito, gostaríamos de acessar o método da classe mãe, para não ter de copiar e colocar o conteúdo desse método e depois concatenar com a informação das horas de aula.</p><p>Como tiramos proveito do polimorfismo? Imagine que temos uma classe de relatório:</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">GeradorDeRelatorio</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">adiciona</span><span class="token punctuation">(</span><span class="token class-name">EmpregadoDaFaculdade</span> f<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span><span class="token function">getInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span><span class="token function">getGastos</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Podemos passar para nossa classe qualquer <code>EmpregadoDaFaculdade</code>! Vai funcionar tanto para professor, quanto para outros funcionários.</p><p>Um certo dia, muito depois de terminar essa classe de relatório, resolvemos aumentar nosso sistema, e colocar uma classe nova, que representa o <code>Reitor</code>. Como ele também é um <code>EmpregadoDaFaculdade</code>, será que vamos precisar alterar algo na nossa classe de <code>Relatorio</code>? Não. Essa é a ideia! Quem programou a classe <code>GeradorDeRelatorio</code> nunca imaginou que existiria uma classe <code>Reitor</code> e, mesmo assim, o sistema funciona.</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Reitor</span> <span class="token keyword">extends</span> <span class="token class-name">EmpregadoDaFaculdade</span> <span class="token punctuation">{</span>
    <span class="token comment">// informações extras</span>
    <span class="token class-name">String</span> <span class="token function">getInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">getInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; e ele é um reitor&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// não sobrescrevemos o getGastos!!!</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="k19-2" tabindex="-1"><a class="header-anchor" href="#k19-2"><span>K19</span></a></h3><p><sup class="footnote-ref"><a href="#footnote3">[3:2]</a><a class="footnote-anchor" id="footnote-ref3:2"></a></sup></p><h4 id="controle-de-ponto" tabindex="-1"><a class="header-anchor" href="#controle-de-ponto"><span>Controle de Ponto</span></a></h4><p>O sistema do banco deve possuir um controle de ponto para registrar a entrada e saída dos funcionários. O pagamento dos funcionários depende dessas informações. Podemos definir uma classe para implementar o funcionamento de um relógio de ponto.</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">ControleDePonto</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">registraEntrada</span><span class="token punctuation">(</span><span class="token class-name">Gerente</span> g<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SimpleDateFormat</span> sdf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">&quot;dd/MM/ yyyy HH:mm:ss&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>
        <span class="token class-name">Date</span> agora <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ENTRADA:&quot;</span><span class="token operator">+</span>g<span class="token punctuation">.</span><span class="token function">getCodigo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;DATA:&quot;</span><span class="token operator">+</span>sdf<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>agora<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">registraSaida</span><span class="token punctuation">(</span><span class="token class-name">Gerente</span> g<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SimpleDateFormat</span> sdf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">&quot;dd/MM/ yyyy HH:mm:ss&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>
        <span class="token class-name">Date</span> agora <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;SAÍDA:&quot;</span><span class="token operator">+</span>g<span class="token punctuation">.</span><span class="token function">getCodigo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;DATA:&quot;</span><span class="token operator">+</span>sdf<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>agora<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>A classe acima possui dois métodos: o primeiro para registrar a entrada e o segundo para registrar a saída dos gerentes do banco. Contudo, esses dois métodos não são aplicáveis aos outros tipos de funcionários.</p><p>Seguindo essa abordagem, a classe <code>ControleDePonto</code> precisaria de um par de métodos para cada cargo. Então, a quantidade de métodos dessa classe seria igual a quantidade de cargos multiplicada por dois. Imagine que no banco exista 30 cargos distintos. Teríamos 60 métodos na classe <code>ControleDePonto</code>.</p><p>Os procedimentos de registro de entrada e saída são idênticos para todos os funcionários. Consequentemente, qualquer alteração na lógica desses procedimentos implicaria na modificação de todos os métodos da classe <code>ControleDePonto</code>.</p><p>Além disso, se o banco definir um novo tipo de funcionário, dois novos métodos praticamente idênticos aos que já existem teriam de ser adicionados na classe <code>ControleDePonto</code>. Analogamente, se um cargo deixar de existir, os dois métodos correspondentes da classe <code>ControleDePonto</code> deverão ser retirados.</p><h4 id="modelagem-dos-funcionarios" tabindex="-1"><a class="header-anchor" href="#modelagem-dos-funcionarios"><span>Modelagem dos funcionários</span></a></h4><p>Com o intuito inicial de reutilizar código, podemos modelar os diversos tipos de funcionários do banco utilizando o conceito de herança.</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Funcionario</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> codigo <span class="token punctuation">;</span>
    <span class="token comment">// GETTERS AND SETTERS</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Gerente</span> <span class="token keyword">extends</span> <span class="token class-name">Funcionario</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> usuario <span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> senha <span class="token punctuation">;</span>
    <span class="token comment">// GETTERS AND SETTERS</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Telefonista</span> <span class="token keyword">extends</span> <span class="token class-name">Funcionario</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> ramal <span class="token punctuation">;</span>
    <span class="token comment">// GETTERS AND SETTERS</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="e-um-extends" tabindex="-1"><a class="header-anchor" href="#e-um-extends"><span>É UM (extends)</span></a></h5><p>Além de gerar reaproveitamento de código, a utilização de herança permite que objetos criados a partir das classes específicas sejam tratados como objetos da classe genérica.</p><p>Em outras palavras, a herança entre as classes que modelam os funcionários permite que objetos criados a partir das classes <code>Gerente</code> ou <code>Telefonista</code> sejam tratados como objetos da classe <code>Funcionario</code>.</p><p>No código da classe <code>Gerente</code> utilizamos a palavra <strong>extends</strong>. Ela pode ser interpretada como a expressão: <strong>É UM</strong> ou <strong>É UMA</strong>.</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Gerente</span> <span class="token keyword">extends</span> <span class="token class-name">Funcionario</span>
<span class="token comment">// TODO Gerente É UM Funcionario</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>Como está explícito no código que todo gerente é um funcionário então podemos criar um objeto da classe <code>Gerente</code> e tratá-lo como um objeto da classe <code>Funcionario</code> também.</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token comment">// Criando um objeto da classe Gerente</span>
<span class="token class-name">Gerente</span> g <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Gerente</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Tratando um gerente como um objeto da classe Funcionario</span>
<span class="token class-name">Funcionario</span> f <span class="token operator">=</span> g <span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Em alguns lugares do sistema do banco será mais vantajoso tratar um objeto da classe <code>Gerente</code> como um objeto da classe <code>Funcionario</code>.</p><h5 id="melhorando-o-controle-de-ponto" tabindex="-1"><a class="header-anchor" href="#melhorando-o-controle-de-ponto"><span>Melhorando o controle de ponto</span></a></h5><p>O registro da entrada ou saída não depende do cargo do funcionário. Não faz sentido criar um método que registre a entrada para cada tipo de funcionário, pois eles serão sempre idênticos. Analogamente, não faz sentido criar um método que registre a saída para cada tipo de funcionário.</p><p>Dado que podemos tratar os objetos das classes derivadas de <code>Funcionario</code> como sendo objetos dessa classe, podemos implementar um método que seja capaz de registrar a entrada de qualquer funcionário independentemente do cargo. Analogamente, podemos fazer o mesmo para o procedimento de saída.</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">ControleDePonto</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">registraEntrada</span><span class="token punctuation">(</span><span class="token class-name">Funcionario</span> f<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">SimpleDateFormat</span> sdf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">&quot;dd/MM/ yyyy HH:mm:ss&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>
    <span class="token class-name">Date</span> agora <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ENTRADA:&quot;</span><span class="token operator">+</span>f<span class="token punctuation">.</span><span class="token function">getCodigo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;DATA:&quot;</span><span class="token operator">+</span>sdf<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>agora<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">registraSaida</span><span class="token punctuation">(</span><span class="token class-name">Funcionario</span> f<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SimpleDateFormat</span> sdf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">&quot;dd/MM/ yyyy HH:mm:ss&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>
        <span class="token class-name">Date</span> agora <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;SAÍDA:&quot;</span><span class="token operator">+</span>f<span class="token punctuation">.</span><span class="token function">getCodigo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;DATA:&quot;</span><span class="token operator">+</span>sdf<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>agora<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Os métodos <code>registraEntrada()</code> e <code>registraSaida()</code> recebem referências de objetos da classe <code>Funcionario</code> como parâmetro. Consequentemente, podem receber referências de objetos de qualquer classe que deriva direta ou indiretamente da classe Funcionario.</p><p>A capacidade de tratar objetos criados a partir das classes específicas como objetos de uma classe genérica é chamada de polimorfismo.</p><p>Aplicando a ideia do polimorfismo no controle de ponto, facilitamos a manutenção da classe <code>ControleDePonto</code>. Qualquer alteração no procedimento de entrada ou saída implica em alterações em métodos únicos.</p><p>Além disso, novos tipos de funcionários podem ser definidos sem a necessidade de qualquer alteração na classe <code>ControleDePonto</code>. Analogamente, se algum cargo deixar de existir, nada precisará ser modificado na classe <code>ControleDePonto</code>.</p><h2 id="classes-abstratas" tabindex="-1"><a class="header-anchor" href="#classes-abstratas"><span>Classes Abstratas</span></a></h2><ul><li>Classes abstratas são classes que não produzem instâncias. Elas agrupam características e comportamentos que serão herdados por outras classes</li><li>Fornecem padrões de comportamento que serão implementados nas suas subclasses</li><li>Podem ter métodos com implementação definida</li><li>Não pode ser instanciada diretamente (<code>new</code>).</li><li>Uma classe abstrata possui características que devem ser implementadas por classes filhas</li><li>Os métodos abstratos são obrigatoriamente implementados pelas classes filhas concretas, quando a mesma herda de uma classe abstrata.</li></ul><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Pessoa</span> <span class="token punctuation">{</span> 
    <span class="token keyword">int</span> matricula<span class="token punctuation">;</span> 
    <span class="token class-name">String</span> nome<span class="token punctuation">;</span> 
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">estacionar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">entrar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> 
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Entrando na Faculdade&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Aluno</span> <span class="token keyword">extends</span> <span class="token class-name">Pessoa</span> <span class="token punctuation">{</span> 
    <span class="token keyword">double</span> media<span class="token punctuation">;</span> 

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">estacionar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> 
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Estacionando na área para estudante...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Professor</span> <span class="token keyword">extends</span> <span class="token class-name">Pessoa</span> <span class="token punctuation">{</span> 
    <span class="token keyword">double</span> salario<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">estacionar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> 
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Estacionando nas vagas de professor&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://www.plantuml.com/plantuml/svg/XP1D2W8n38NtFKMMYdY2sOmt6F04cJPAeKqWRKKOvkxJSNvGHEmcpUlBzqBRb55pYS6q-yq0zYahsWmsO4hGKKg2C821UiwUCqJCwcq9sApYjVPy1vP8gtGQDim83_4Eg2POBunwE6wUvO6hRHRDMCENp4ieB43FJEo-Dd1I-a0GoNdy9Br7c15sNATocndw1vame7ffVZEDQUlywyUMEW40" alt="uml diagram" loading="lazy"><figcaption>UML Classe abstrata Pessoa e classes concretas Aluno e Professor.</figcaption></figure><h3 id="outros-exemplos-1" tabindex="-1"><a class="header-anchor" href="#outros-exemplos-1"><span>Outros Exemplos</span></a></h3><h4 id="caelum-3" tabindex="-1"><a class="header-anchor" href="#caelum-3"><span>Caelum</span></a></h4><p><sup class="footnote-ref"><a href="#footnote2">[2:3]</a><a class="footnote-anchor" id="footnote-ref2:3"></a></sup></p><p>Vamos recordar em como pode estar nossa classe <code>Funcionario</code>:</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Funcionario</span> <span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token class-name">String</span> nome<span class="token punctuation">;</span>
    <span class="token keyword">protected</span> <span class="token class-name">String</span> cpf<span class="token punctuation">;</span>
    <span class="token keyword">protected</span> <span class="token keyword">double</span> salario<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">getBonificacao</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>salario <span class="token operator">*</span> <span class="token number">1.2</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// outros métodos aqui</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Considere o nosso <code>ControleDeBonificacao</code>:</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">ControleDeBonificacoes</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">double</span> totalDeBonificacoes <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">registra</span><span class="token punctuation">(</span><span class="token class-name">Funcionario</span> f<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Adicionando bonificação do funcionario: &quot;</span> <span class="token operator">+</span> f<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>totalDeBonificacoes <span class="token operator">+=</span> f<span class="token punctuation">.</span><span class="token function">getBonificacao</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">getTotalDeBonificacoes</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>totalDeBonificacoes<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Nosso método <code>registra</code> recebe qualquer referência do tipo <code>Funcionario</code>, isto é, podem ser objetos do tipo <code>Funcionario</code> e qualquer de seus subtipos: <code>Gerente</code>, <code>Diretor</code> e, eventualmente, alguma nova subclasse que venha ser escrita, sem prévio conhecimento do autor da <code>ControleDeBonificacao</code>.</p><p>Estamos utilizando aqui a classe <code>Funcionario</code> para o polimorfismo. Se não fosse ela, teríamos um grande prejuízo: precisaríamos criar um método <code>registra</code> para receber cada um dos tipos de <code>Funcionario</code>, um para <code>Gerente</code>, um para <code>Diretor</code>, etc. Repare que perder esse poder é muito pior do que a pequena vantagem que a herança traz em herdar código.</p><p>Porém, em alguns sistemas, como é o nosso caso, usamos uma classe com apenas esses intuitos: de economizar um pouco código e ganhar polimorsmo para criar métodos mais genéricos, que se encaixem a diversos objetos.</p><p>Faz sentido ter uma referência do tipo <code>Funcionario</code>? Essa pergunta é diferente de saber se faz sentido ter um objeto do tipo <code>Funcionario:</code> nesse caso, faz sim e é muito útil.</p><p>Referenciando <code>Funcionario</code> temos o polimorfismo de referência, já que podemos receber qualquer objeto que seja um <code>Funcionario</code>. Porém, dar <code>new</code> em <code>Funcionario</code> pode não fazer sentido, isto é, não queremos receber um objeto do tipo <code>Funcionario</code>, mas sim que aquela referência seja ou um <code>Gerente</code>, ou um <code>Diretor</code>, etc. Algo mais <strong>concreto</strong> que um <code>Funcionario</code>.</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token class-name">ControleDeBonificacoes</span> cdb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ControleDeBonificacoes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Funcionario</span> f <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Funcionario</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cdb<span class="token punctuation">.</span><span class="token function">adiciona</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// faz sentido?</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Vejamos um outro caso em que não faz sentido ter um objeto daquele tipo, apesar da classe existir: imagine a classe <code>Pessoa</code> e duas filhas, <code>PessoaFisica</code> e <code>PessoaJuridica</code>. Quando puxamos um relatório de nossos clientes (uma <code>array</code> de <code>Pessoa</code> por exemplo), queremos que cada um deles seja ou uma <code>PessoaFisica</code>, ou uma <code>PessoaJuridica</code>. A classe <code>Pessoa</code>, nesse caso, estaria sendo usada apenas para ganhar o polimorfismo e herdar algumas coisas: não faz sentido permitir instanciá-la.</p><p>Para resolver esses problemas, temos as <em>classes abstratas</em>.</p><h5 id="classe-abstrata" tabindex="-1"><a class="header-anchor" href="#classe-abstrata"><span>Classe abstrata</span></a></h5><p>O que, exatamente, vem a ser a nossa classe <code>Funcionario</code>? Nossa empresa tem apenas Diretores, Gerentes, Secretárias, etc. Ela é uma classe que apenas idealiza um tipo, define apenas um rascunho.</p><p>Para o nosso sistema, é inadmissível que um objeto seja apenas do tipo <code>Funcionario</code> (pode existir um sistema em que faça sentido ter objetos do tipo Funcionario ou apenas <code>Pessoa</code>, mas, no nosso caso, não).</p><p>Usamos a palavra chave <em>abstract</em> para impedir que ela possa ser instanciada. Esse é o efeito direto de se usar o modificador <code>abstract</code> na declaração de uma classe:</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Funcionario</span> <span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token keyword">double</span> salario<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">getBonificacao</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>salario <span class="token operator">*</span> <span class="token number">1.2</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// outros atributos e métodos comuns a todos Funcionarios</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>E, no meio de um código:</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token class-name">Funcionario</span> f <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Funcionario</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// não compila!!!</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>O código acima não compila. O problema é instanciar a classe - criar referência, você pode. Se ela não pode ser instanciada, para que serve? Serve para o polimorfismo e herança dos atributos e métodos, que são recursos muito poderosos, como já vimos.</p><p>Vamos então herdar dessa classe, reescrevendo o método <code>getBonificacao</code></p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Gerente</span> <span class="token keyword">extends</span> <span class="token class-name">Funcionario</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">getBonificacao</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>salario <span class="token operator">*</span> <span class="token number">1.4</span> <span class="token operator">+</span> <span class="token number">1000</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://www.plantuml.com/plantuml/svg/XOuz2e0m38NtdA97wI2wUeMqpH2eAIGfU7p5IYV1wVtmyNZH7DNxKI5E1vZC5RE7ND4ih5qoDq7b1gFPI4cS0frEKhw8NScu_40BAtdJIRop0F6EpwUX5m00" alt="uml diagram" loading="lazy"><figcaption>UML da classe abstrata Funcionario e das classes concretas Gerente, Presidente e Diretor.</figcaption></figure><p>Mas qual é a real vantagem de uma classe abstrata? Poderíamos ter feito isto com uma herança comum. Por enquanto, a única diferença é que não podemos instanciar um objeto do tipo <code>Funcionario</code>, que já é de grande valia, dando mais consistência ao sistema.</p><p>Fique claro que a nossa decisão de transformar <code>Funcionario</code> em uma classe abstrata dependeu do nosso domínio. Pode ser que, em um sistema com classes similares, faça sentido que uma classe análoga a <code>Funcionario</code> seja concreta.</p><h5 id="metodos-abstratos" tabindex="-1"><a class="header-anchor" href="#metodos-abstratos"><span>Métodos abstratos</span></a></h5><p>Se o método <code>getBonificacao</code> não fosse reescrito, ele seria herdado da classe mãe, fazendo com que devolvesse o salário mais 20%.</p><p>Levando em consideração que cada funcionário em nosso sistema tem uma regra totalmente diferente para ser bonificado, faz algum sentido ter esse método na classe <code>Funcionario</code>? Será que existe uma bonificação padrão para todo tipo de <code>Funcionario</code>? Parece que não, cada classe filha terá um método diferente de bonificação pois, de acordo com nosso sistema, não existe uma regra geral: queremos que cada pessoa que escreve a classe de um <code>Funcionario</code> diferente (subclasses de <code>Funcionario</code>) reescreva o método <code>getBonificacao</code> de acordo com as suas regras.</p><p>Poderíamos, então, jogar fora esse método da classe <code>Funcionario</code>? O problema é que, se ele não existisse, não poderíamos chamar o método apenas com uma referência a um <code>Funcionario</code>, pois ninguém garante que essa referência aponta para um objeto que possui esse método. Será que então devemos retornar um código, como um número negativo? Isso não resolve o problema: se esquecermos de reescrever esse método, teremos dados errados sendo utilizados como bônus.</p><p>Existe um recurso em Java que, em uma classe abstrata, podemos escrever que determinado método será sempre escrito pelas classes filhas. Isto é, um <strong>método abstrato</strong>.</p><p>Ele indica que todas as classes filhas (concretas, isto é, que não forem abstratas) devem reescrever esse método ou não compilarão. É como se você herdasse a responsabilidade de ter aquele método.</p><div class="hint-container tip"><p class="hint-container-title">Como declarar um método abstrato</p><p>Às vezes, não fica claro como declarar um método abstrato.</p><p>Basta escrever a palavra chave <em>abstract</em> na assinatura do mesmo e colocar um ponto e vírgula em vez de abre e fecha chaves!</p></div><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Funcionario</span> <span class="token punctuation">{</span>
    <span class="token keyword">abstract</span> <span class="token keyword">double</span> <span class="token function">getBonificacao</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// outros atributos e métodos</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="k19-3" tabindex="-1"><a class="header-anchor" href="#k19-3"><span>K19</span></a></h4><p><sup class="footnote-ref"><a href="#footnote3">[3:3]</a><a class="footnote-anchor" id="footnote-ref3:3"></a></sup></p><h5 id="classes-abstratas-1" tabindex="-1"><a class="header-anchor" href="#classes-abstratas-1"><span>Classes Abstratas</span></a></h5><p>No banco, todas as contas são de um tipo específico. Por exemplo, conta poupança, conta corrente ou conta salário. Essas contas poderiam ser modeladas através das seguintes classes utilizando o conceito de herança:</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Conta</span> <span class="token punctuation">{</span>
    <span class="token comment">// Atributos</span>
    <span class="token comment">// Construtores</span>
    <span class="token comment">// Métodos</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">ContaPoupanca</span> <span class="token keyword">extends</span> <span class="token class-name">Conta</span> <span class="token punctuation">{</span>
    <span class="token comment">// Atributos</span>
    <span class="token comment">// Construtores</span>
    <span class="token comment">// Métodos</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">ContaCorrente</span> <span class="token keyword">extends</span> <span class="token class-name">Conta</span> <span class="token punctuation">{</span>
    <span class="token comment">// Atributos</span>
    <span class="token comment">// Construtores</span>
    <span class="token comment">// Métodos</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Para cada conta do domínio do banco devemos criar um objeto da classe correspondente ao tipo da conta. Por exemplo, se existe uma conta poupança no domínio do banco devemos criar um objeto da classe <code>ContaPoupanca</code>.</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token class-name">ContaPoupanca</span> cp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ContaPoupanca</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Faz sentido criar objetos da classe <code>ContaPoupanca</code> pois existem contas poupança no domínio do banco. Dizemos que a classe <code>ContaPoupanca</code> é uma classe concreta pois criaremos objetos a partir dela.</p><p>Por outro lado, a classe <code>Conta</code> não define uma conta que de fato existe no domínio do banco. Ela apenas serve como &quot;base&quot; para definir as contas concretos.</p><p>Não faz sentido criar um objeto da classe <code>Conta</code> pois estaríamos instanciado um objeto que não é suficiente para representar uma conta que pertença ao domínio do banco. Mas, a princípio, não há nada proibindo a criação de objetos dessa classe. Para adicionar essa restrição no sistema, devemos tornar a classe <code>Conta</code> <strong>abstrata</strong>.</p><p>Uma classe concreta pode ser diretamente utilizada para instanciar objetos. Por outro lado, uma classe abstrata não pode. Para definir uma classe abstrata, basta adicionar o modificador abstract.</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Conta</span> <span class="token punctuation">{</span>
    <span class="token comment">// Atributos</span>
    <span class="token comment">// Construtores</span>
    <span class="token comment">// Métodos</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Todo código que tenta criar um objeto de uma classe abstrata não compila.</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token comment">// Erro de compilação</span>
<span class="token class-name">Conta</span> c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Conta</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="metodos-abstratos-1" tabindex="-1"><a class="header-anchor" href="#metodos-abstratos-1"><span>Métodos Abstratos</span></a></h5><p>Suponha que o banco ofereça extrato detalhado das contas e para cada tipo de conta as informações e o formato desse extrato detalhado são diferentes. Além disso, a qualquer momento o banco pode mudar os dados e o formato do extrato detalhado de um dos tipos de conta.</p><p>Neste caso, parece não fazer sentido ter um método na classe <code>Conta</code> para gerar extratos detalhados pois ele seria reescrito nas classes específicas sem nem ser reaproveitado.</p><p>Poderíamos, simplesmente, não definir nenhum método para gerar extratos detalhados na classe <code>Conta</code>. Porém, não haveria nenhuma garantia que as classes que derivam direta ou indiretamente da classe <code>Conta</code> implementem métodos para gerar extratos detalhados.</p><p>Mas, mesmo supondo que toda classe derivada implemente um método para gerar os extratos que desejamos, ainda não haveria nenhuma garantia em relação as assinaturas desses métodos. As classes derivadas poderiam definir métodos com nomes ou parâmetros diferentes. Isso prejudicaria a utilização dos objetos que representam as contas devido a falta de padronização das operações.</p><p>Para garantir que toda classe concreta que deriva direta ou indiretamente da classe <code>Conta</code> tenha uma implementação de método para gerar extratos detalhados e além disso que uma mesma assinatura de método seja utilizada, devemos utilizar o conceito de métodos abstratos.</p><p>Na classe <code>Conta</code>, definimos um método abstrato para gerar extratos detalhados. Um método abstrato não possui corpo (implementação).</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Conta</span> <span class="token punctuation">{</span>
    <span class="token comment">// Atributos</span>
    <span class="token comment">// Construtores</span>
    <span class="token comment">// Métodos</span>
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">imprimeExtratoDetalhado</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>As classes concretas que derivam direta ou indiretamente da classe Conta devem possuir uma implementação para o método <code>imprimeExtratoDetalhado()</code>.</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">ContaPoupanca</span> <span class="token keyword">extends</span> <span class="token class-name">Conta</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> diaDoAniversario <span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">imprimeExtratoDetalhado</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;EXTRATO DETALHADO DE CONTA POUPANÇA&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>
        <span class="token class-name">SimpleDateFormat</span> sdf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span> <span class="token punctuation">(</span><span class="token string">&quot;dd/MM/yyyy HH:mm:ss&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>
        <span class="token class-name">Date</span> agora <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;DATA:&quot;</span><span class="token operator">+</span>sdf<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>agora<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;SALDO:&quot;</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getSaldo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ANIVERSÁRIO:&quot;</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>diaDoAniversario<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Se uma classe concreta derivada da classe <code>Conta</code> não possuir uma implementação do método <code>imprimeExtratoDetalhado()</code> ela não compilará.</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token comment">// ESSA CLASSE NÃO COMPILA</span>
<span class="token keyword">class</span> <span class="token class-name">ContaPoupanca</span> <span class="token keyword">extends</span> <span class="token class-name">Conta</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="interface" tabindex="-1"><a class="header-anchor" href="#interface"><span>Interface</span></a></h3><h5 id="padronizacao" tabindex="-1"><a class="header-anchor" href="#padronizacao"><span>Padronização</span></a></h5><p>No dia a dia, estamos acostumados a utilizar aparelhos que dependem de energia elétrica. Esses aparelhos possuem um plugue que deve ser conectado a uma tomada para obter a energia necessária.</p><p>Diversas empresas fabricam aparelhos elétricos com plugues. Analogamente, diversas empresas fabricam tomadas elétricas. Suponha que cada empresa decida por conta própria o formato dos plugues ou das tomadas que fabricará. Teríamos uma infinidade de tipos de plugues e tomadas que tornaria a utilização dos aparelhos elétricos uma experiência extremamente desagradável.</p><p>Inclusive, essa falta de padrão pode gerar problemas de segurança aos usuários. Os formatos dos plugues ou das tomadas pode aumentar o risco de uma pessoa tomar um choque elétrico.</p><p>Com o intuito de facilitar a utilização dos consumidores e aumentar a segurança dos mesmos, o governo através dos órgãos responsáveis estabelece padrões para os plugues e tomadas. Esses padrões estabelecem restrições que devem ser respeitadas pelos fabricantes dos aparelhos e das tomadas.</p><p>Em diversos contextos, padronizar pode trazer grandes benefícios. Inclusive, no desenvolvimento de aplicações. Mostraremos como a ideia de padronização pode ser contextualizada nos conceitos de orientação a objetos.</p><h5 id="contratos" tabindex="-1"><a class="header-anchor" href="#contratos"><span>Contratos</span></a></h5><p>Num sistema orientado a objetos, os objetos interagem entre si através de chamadas de métodos (troca de mensagens). Podemos dizer que os objetos se “encaixam” através dos métodos públicos assim como um plugue se encaixa em uma tomada através dos pinos.</p><p>Para os objetos de uma aplicação “conversarem” entre si mais facilmente é importante padronizar o conjunto de métodos oferecidos por eles. Assim como os plugues encaixam nas tomadas mais facilmente graças aos padrões definidos pelo governo.</p><p>Um padrão é definido através de especificações ou contratos. Nas aplicações orientadas a objetos, podemos criar um “contrato” para definir um determinado conjunto de métodos que deve ser implementado pelas classes que “assinarem” este contrato. Em orientação a objetos, um contrato é chamado de interface. Um interface é composta basicamente por métodos abstratos.</p><h5 id="exemplo" tabindex="-1"><a class="header-anchor" href="#exemplo"><span>Exemplo</span></a></h5><p>No sistema do banco, podemos definir uma interface (contrato) para padronizar as assinaturas dos métodos oferecidos pelos objetos que representam as contas do banco.</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">interface</span> <span class="token class-name">Conta</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> deposita <span class="token punctuation">(</span> <span class="token keyword">double</span> valor <span class="token punctuation">)</span> <span class="token punctuation">;</span>
    <span class="token keyword">void</span> saca <span class="token punctuation">(</span> <span class="token keyword">double</span> valor <span class="token punctuation">)</span> <span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Os métodos de uma interface não possuem corpo (implementação) pois serão implementados nas classes vinculadas a essa interface. Todos os métodos de uma interface devem ser públicos e abstratos. Os modificadores public e <strong>abstract</strong> são opcionais.</p><p>As classes que definem os diversos tipos de contas que existem no banco devem implementar (assinar) a interface Conta.</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">ContaPoupanca</span> <span class="token keyword">implements</span> <span class="token class-name">Conta</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> deposita <span class="token punctuation">(</span> <span class="token keyword">double</span> valor <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// implementacao</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> saca <span class="token punctuation">(</span> <span class="token keyword">double</span> valor <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// implementacao</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">ContaCorrente</span> <span class="token keyword">implements</span> <span class="token class-name">Conta</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> deposita <span class="token punctuation">(</span> <span class="token keyword">double</span> valor <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// implementacao</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> saca <span class="token punctuation">(</span> <span class="token keyword">double</span> valor <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// implementacao</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>As classes concretas que implementam uma interface são obrigadas a possuir uma implementação para cada método declarado na interface. Caso contrário, ocorrerá um erro de compilação.</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token comment">// Esta classe não compila porque ela não implementou o método saca ()</span>
<span class="token keyword">class</span> <span class="token class-name">ContaCorrente</span> <span class="token keyword">implements</span> <span class="token class-name">Conta</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> deposita <span class="token punctuation">(</span> <span class="token keyword">double</span> valor <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// implementacao</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>A primeira vantagem de utilizar uma interface é a padronização das assinaturas dos métodos oferecidos por um determinado conjunto de classes. A segunda vantagem é garantir que determinadas classes implementem certos métodos.</p><h5 id="polimorfismo-1" tabindex="-1"><a class="header-anchor" href="#polimorfismo-1"><span>Polimorfismo</span></a></h5><p>Se uma classe implementa uma interface, podemos aplicar a ideia do polimorfismo assim como quando aplicamos herança. Dessa forma, outra vantagem da utilização de interfaces é o ganho do polimorfismo.</p><p>Como exemplo, suponha que a classe ContaCorrente implemente a interface Conta. Podemos guardar a referência de um objeto do tipo ContaCorrente em uma variável do tipo Conta.</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token class-name">Conta</span> c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ContaCorrente</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Além disso, podemos passar uma variável do tipo ContaCorrente para um método que o parâmetro seja do tipo Conta.</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">GeradorDeExtrato</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> geraExtrato <span class="token punctuation">(</span> <span class="token class-name">Conta</span> c <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// implementação</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token class-name">GeradorDeExtrato</span> g <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GeradorDeExtrato</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">ContaCorrente</span> c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ContaCorrente</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
g<span class="token punctuation">.</span><span class="token function">geraExtrato</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>O método <code>geraExtrato()</code> pode ser utilizado para objetos criados a partir de classes que implementam direta ou indiretamente a interface Conta.</p><h5 id="interface-e-heranca" tabindex="-1"><a class="header-anchor" href="#interface-e-heranca"><span>Interface e Herança</span></a></h5><p>As vantagens e desvantagens entre interface e herança, provavelmente, é um dos temas mais discutido nos blogs, fóruns e revistas que abordam desenvolvimento de software orientado a objetos.</p><p>Muitas vezes, os debates sobre este assunto se estendem mais do que a própria importância desse tópico. Muitas pessoas se posicionam de forma radical defendendo a utilização de interfaces ao invés de herança em qualquer situação.</p><p>Normalmente, esses debates são direcionados na análise do que é melhor para manutenção das aplicações: utilizar interfaces ou aplicar herança.</p><p>A grosso modo, priorizar a utilização de interfaces permite que alterações pontuais em determinados trechos do código fonte sejam feitas mais facilmente pois diminui as ocorrências de efeitos colaterais indesejados no resto da aplicação. Por outro lado, priorizar a utilização de herança pode diminuir a quantidade de código escrito no início do desenvolvimento de um projeto.</p><p>Algumas pessoas propõem a utilização de interfaces juntamente com composição para substituir totalmente o uso de herança. De fato, esta é uma alternativa interessante pois possibilita que um trecho do código fonte de uma aplicação possa ser alterado sem causar efeito colateral no restante do sistema além de permitir a reutilização de código mais facilmente.</p><p>Em Java, como não há herança múltipla, muitas vezes, interfaces são apresentadas como uma alternativa para obter um grau maior de polimorfismo.</p><p>Por exemplo, suponha duas árvores de herança independentes</p><figure><img src="https://www.plantuml.com/plantuml/svg/RSzV2i0W20VWzvsYemI31diQx0JIP0ZDG0js_FsB2DQJ-kDJq6e2IVa8WwsT3w1gna382Skqe6e4HqeU39u9UUkJEGjjFLIKo-mfCWZ5aame3wWBVx7YdWMuETgQmTxH-y5NBm00" alt="uml diagram" loading="lazy"><figcaption>Duas árvores de herança independentes.</figcaption></figure><p>Suponha que os gerentes e as empresas possam acessar o sistema do banco com um nome de usuário e uma senha. Seria interessante utilizar um único método para implementar a autenticação desses dois tipos de objetos. Mas, qual seria o tipo de parâmetro deste método? Lembrando que ele deve aceitar gerentes e empresas.</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">AutenticadorDeUsuario</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> autentica <span class="token punctuation">(</span><span class="token operator">?</span><span class="token operator">?</span><span class="token operator">?</span> u <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// implementação</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>De acordo com as árvores de herança, não há polimorfismo entre objetos da classe Gerente e da classe Empresa. Para obter polimorfismo entre os objetos dessas duas classes somente com herança, deveríamos colocá-las na mesma árvore de herança. Mas, isso não faz sentido pois uma empresa não é um funcionário e o gerente não é cliente. Neste caso, a solução é utilizar interfaces para obter o polimorfismo desejado</p><figure><img src="https://www.plantuml.com/plantuml/svg/ROz12a8n34JtFKMFKX2-u4eG3n3wemJQL986FBwb_MeNNMKIPjwGe1MaMauk_5HCeEfFYP0h7jiLLGjif1J1uxiYxslBnOJsXSbJVYNCJQg_gu5GSKTmCuvKk9_6vOpICr_6v5XnHkY6JnFWgNe6Esf0UK34Vtrehlxwc1y0" alt="uml diagram" loading="lazy"><figcaption>Obtendo mais polimorfismo.</figcaption></figure><p>Agora, conseguimos definir o que o método autentica() deve receber como parâmetro para trabalhar tanto com gerentes quanto com empresas. Ele deve receber um parâmetro do tipo Usuario.</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Usuario</span> <span class="token punctuation">{</span>
    <span class="token keyword">boolean</span> <span class="token function">autenticar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Cliente</span> <span class="token punctuation">{</span>
    <span class="token comment">//...    </span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PessoaFisica</span> <span class="token keyword">extends</span> <span class="token class-name">Cliente</span> <span class="token punctuation">{</span>
    <span class="token comment">//...</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PessoaJuridica</span> <span class="token keyword">extends</span> <span class="token class-name">Cliente</span> <span class="token keyword">implements</span> <span class="token class-name">Usuario</span> <span class="token punctuation">{</span>
    <span class="token comment">//...    </span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">autenticar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>   
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Funcionario</span> <span class="token punctuation">{</span>
    <span class="token comment">//...</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Gerente</span> <span class="token keyword">extends</span> <span class="token class-name">Funcionario</span> <span class="token keyword">implements</span> <span class="token class-name">Usuario</span> <span class="token punctuation">{</span>
    <span class="token comment">//...</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">autenticar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>       
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Seguranca</span> <span class="token keyword">extends</span> <span class="token class-name">Funcionario</span> <span class="token punctuation">{</span>
    <span class="token comment">//...</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AutenticadorDeUsuario</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> autentica <span class="token punctuation">(</span> <span class="token class-name">Usuario</span> u <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// implementação</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h6 id="mais-sobre-heranca-e-interface" tabindex="-1"><a class="header-anchor" href="#mais-sobre-heranca-e-interface"><span>Mais sobre herança e interface</span></a></h6><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Conta</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">getSaldo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">deposita</span><span class="token punctuation">(</span><span class="token keyword">double</span> valor<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">saca</span><span class="token punctuation">(</span><span class="token keyword">double</span> valor<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">atualiza</span><span class="token punctuation">(</span><span class="token keyword">double</span> taxaSelic<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">ContaCorrente</span> <span class="token keyword">implements</span> <span class="token class-name">Conta</span> <span class="token punctuation">{</span>
<span class="token comment">// ...</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">ContaPoupanca</span> <span class="token keyword">implements</span> <span class="token class-name">Conta</span> <span class="token punctuation">{</span>
<span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Às vezes, é interessante criarmos uma interface que herda de outras interfaces: essas, são chamadas subinterfaces. Essas, nada mais são do que um agrupamento de obrigações para a classe que a implementar</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">interface</span>  <span class="token class-name">Tributavel</span> <span class="token punctuation">{</span>
    <span class="token comment">//...</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">calcularTributo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">interface</span> <span class="token class-name">ContaTributavel</span> <span class="token keyword">extends</span> <span class="token class-name">Conta</span><span class="token punctuation">,</span> <span class="token class-name">Tributavel</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Dessa maneira, quem for implementar essa nova interface precisa implementar todos os métodos herdados das suas superinterfaces (e talvez ainda novos métodos declarados dentro dela):</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">ContaInvestimento</span> <span class="token keyword">implements</span> <span class="token class-name">ContaTributavel</span> <span class="token punctuation">{</span>
<span class="token comment">// métodos</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token class-name">ContaTributavel</span> ct <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ContaInvestimento</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Conta</span> c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ContaInvestimento</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Tributavel</span> t <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ContaInvestimento</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Perceba que o código pode parecer estranho, pois a interface não declara método algum, só herda os métodos abstratos declarados nas outras interfaces. Ao mesmo tempo que uma interface pode herdar de mais de uma outra interface, classes só podem possuir uma classe mãe (herança simples).</p><figure><img src="https://www.plantuml.com/plantuml/svg/SoWkIImgAStDuNA0ipBpIbABqXAJKnMSy_DA4f7u8KMPIQKbYMMf68eGCWgf5IMfUId5474TP3t9EOd5K77FlBBKufBCtDIyado5pDo2d5GGinZTC2u7e55Wrq5e0000" alt="uml diagram" loading="lazy"><figcaption>Representação da herança entre interfaces.</figcaption></figure><h4 id="interfaces-classe-abstratas" tabindex="-1"><a class="header-anchor" href="#interfaces-classe-abstratas"><span>Interfaces = Classe Abstratas</span></a></h4><p>Em algumas linguagens de programação não existe o conceito de <code>interface</code>.</p><p>A <code>interface</code> é um tipo específico de classe abstrata onde existe apenas as definições de comportamentos.</p><h2 id="referencias" tabindex="-1"><a class="header-anchor" href="#referencias"><span>Referências</span></a></h2><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="footnote1" class="footnote-item"><p>Takenami, Igor. Introdução a Programação Orientada a Objetos. Salvador. 2011. (Apostila). <a href="#footnote-ref1" class="footnote-backref">↩︎</a></p></li><li id="footnote2" class="footnote-item"><p>Caelum. Java e Orientação a Objetos - Curso fj-11. <a href="#footnote-ref2" class="footnote-backref">↩︎</a> <a href="#footnote-ref2:1" class="footnote-backref">↩︎</a> <a href="#footnote-ref2:2" class="footnote-backref">↩︎</a> <a href="#footnote-ref2:3" class="footnote-backref">↩︎</a></p></li><li id="footnote3" class="footnote-item"><p>K19-Treinamentos. (2013). Orientação a Objetos em Java, 220. <a href="#footnote-ref3" class="footnote-backref">↩︎</a> <a href="#footnote-ref3:1" class="footnote-backref">↩︎</a> <a href="#footnote-ref3:2" class="footnote-backref">↩︎</a> <a href="#footnote-ref3:3" class="footnote-backref">↩︎</a></p></li></ol></section>`,329),c=[t];function p(i,l){return s(),n("div",null,c)}const u=a(o,[["render",p],["__file","02_revisao_poo2.html.vue"]]),m=JSON.parse('{"path":"/posts/OO/02_revisao_poo2.html","title":"Revisão POO parte 2","lang":"pt-BR","frontmatter":{"icon":"edit","date":"2024-03-20T23:40:00.000Z","tag":["revisao","poo"],"category":["aula"],"order":2,"gitInclude":["../../../src/includes/bib.md"],"description":"Revisão POO parte 2 Herança [1] É a capacidade de uma classe definir o seu comportamento e sua estrutura aproveitando definições de outra classe, normalmente conhecida como clas...","head":[["meta",{"property":"og:url","content":"https://20241-ifba-saj-ads-ppr.github.io/blog-material-aula/blog-material-aula/posts/OO/02_revisao_poo2.html"}],["meta",{"property":"og:site_name","content":"20241 PPR Blog das Aulas"}],["meta",{"property":"og:title","content":"Revisão POO parte 2"}],["meta",{"property":"og:description","content":"Revisão POO parte 2 Herança [1] É a capacidade de uma classe definir o seu comportamento e sua estrutura aproveitando definições de outra classe, normalmente conhecida como clas..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"pt-BR"}],["meta",{"property":"og:updated_time","content":"2024-07-11T00:46:44.000Z"}],["meta",{"property":"article:author","content":"Leandro Souza"}],["meta",{"property":"article:tag","content":"revisao"}],["meta",{"property":"article:tag","content":"poo"}],["meta",{"property":"article:published_time","content":"2024-03-20T23:40:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-07-11T00:46:44.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Revisão POO parte 2\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2024-03-20T23:40:00.000Z\\",\\"dateModified\\":\\"2024-07-11T00:46:44.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Leandro Souza\\",\\"url\\":\\"https://github.com/leandro-costa\\"}]}"]]},"headers":[{"level":2,"title":"Herança","slug":"heranca","link":"#heranca","children":[{"level":3,"title":"Outros exemplos","slug":"outros-exemplos","link":"#outros-exemplos","children":[]},{"level":3,"title":"Sobrecrita de Métodos","slug":"sobrecrita-de-metodos","link":"#sobrecrita-de-metodos","children":[]},{"level":3,"title":"Construtores e Herança","slug":"construtores-e-heranca","link":"#construtores-e-heranca","children":[]}]},{"level":2,"title":"Polimorfismo","slug":"polimorfismo","link":"#polimorfismo","children":[{"level":3,"title":"Caelum","slug":"caelum-2","link":"#caelum-2","children":[]},{"level":3,"title":"K19","slug":"k19-2","link":"#k19-2","children":[]}]},{"level":2,"title":"Classes Abstratas","slug":"classes-abstratas","link":"#classes-abstratas","children":[{"level":3,"title":"Outros Exemplos","slug":"outros-exemplos-1","link":"#outros-exemplos-1","children":[]},{"level":3,"title":"Interface","slug":"interface","link":"#interface","children":[]}]},{"level":2,"title":"Referências","slug":"referencias","link":"#referencias","children":[]}],"git":{"createdTime":1720658804000,"updatedTime":1720658804000,"contributors":[{"name":"Leandro Costa","email":"leandro.costa@ifba.edu.br","commits":1}]},"readingTime":{"minutes":28.54,"words":8562},"filePathRelative":"posts/OO/02_revisao_poo2.md","localizedDate":"20 de março de 2024","autoDesc":true}');export{u as comp,m as data};
